<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>KSX - 个人博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Free HTML5 Website Template by GetTemplates.co" />
    <meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />

    <link href="../../favicon.ico" rel="icon" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i|Roboto+Mono" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="../../css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="../../css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="../../css/bootstrap.css">

    <!-- Magnific Popup -->
    <link rel="stylesheet" href="../../css/magnific-popup.css">

    <!-- Theme style  -->
    <link rel="stylesheet" href="../../css/style.css">

    <!-- Modernizr JS -->
    <script src="../../js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->

</head>
<body>

<div class="gtco-loader"></div>

<div id="page">
    <nav class="gtco-nav" role="navigation">
        <div class="container">
            <div class="row">
                <div class="col-xs-2 text-left">
                    <div id="gtco-logo"><a href="index.html">KSX<span>.</span></a></div>
                </div>
                <div class="col-xs-10 text-right menu-1">
                    <ul>
                        <li><a href="../../index.html" style="font-size:16px;font-weight: bold;">首页</a></li>
                        <li class="active"><a href="../../archive.html" style="font-size:16px;font-weight: bold;">归档</a></li>
                        <li><a href="../../category.html" style="font-size:16px;font-weight: bold;">分类</a></li>
                        <li class="has-dropdown">
                            <a style="font-size:16px;font-weight: bold;">API</a>
                            <ul class="dropdown">
                                <li><a href="http://itmyhome.com/git/" target="_blank">Git</a></li>
                                <li><a href="http://itmyhome.com/progit/" target="_blank">Pro Git</a></li>
                                <li><a href="http://itmyhome.com/jq/" target="_blank">JQuery</a></li>
                                <li><a href="http://itmyhome.com/easyui/" target="_blank">EasyUI</a></li>
                                <li><a href="http://itmyhome.com/bootstrap/" target="_blank">Bootstrap</a></li>
                                <li><a href="http://itmyhome.com/markdown/" target="_blank">Markdown</a></li>
                                <li><a href="http://itmyhome.com/front/" target="_blank">前端开发规范手册</a></li>
                                <li><a href="http://itmyhome.com/js/" target="_blank">JavaScript</a></li>
                                <li><a href="http://itmyhome.com/html/" target="_blank">HTML</a></li>
                                <li><a href="http://itmyhome.com/css/" target="_blank">CSS</a></li>
                                <li><a href="http://itmyhome.com/rgb/" target="_blank">RGB</a></li>
                            </ul>
                        </li>
                        <li class="has-dropdown">
                            <a style="font-size:16px;font-weight: bold;">PDF</a>
                            <ul class="dropdown">
                                <li><a href="http://itmyhome.com/progit-pdf/" target="_blank">Pro Git </a></li>
                                <li><a href="http://itmyhome.com/the-definitive-guide-of-git-pdf/" target="_blank">Git权威指南</a></li>
                                <li><a href="http://itmyhome.com/javascript-pdf/" target="_blank">JavaScript权威指南</a></li>
                                <li><a href="http://itmyhome.com/jquery-in-action-pdf/" target="_blank">jQuery实战</a></li>
                                <li><a href="http://itmyhome.com/mybatis-pdf/" target="_blank">MyBatis3用户指南</a></li>
                                <li><a href="http://itmyhome.com/ibatis-pdf/" target="_blank">IBATIS2.0开发指南</a></li>
                                <li><a href="http://itmyhome.com/html-pdf/" target="_blank">HTML精选属性</a></li>
                                <li><a href="http://itmyhome.com/jdbc-pdf/" target="_blank">JDBC学习手册</a></li>
                                <li><a href="http://itmyhome.com/programmer-job-hopping-pdf/" target="_blank">程序员跳槽全攻略</a></li>
                                <li><a href="http://itmyhome.com/software-random-thoughts-pdf/" target="_blank">软件随想录</a></li>
                            </ul>
                        </li>
                        <li><a href="http://blog.csdn.net/kesixin" target="_blank" style="font-size:16px;font-weight: bold;">CSDN</a></li>
                        <li><a href="http://www.jianshu.com/u/ed95b64d8305" target="_blank" style="font-size:16px;font-weight: bold;">简书</a></li>
                        <li><a href="../../history.html" style="font-size:16px;font-weight: bold;">历程</a></li>
                        <li><a href="../../history.html" style="font-size:16px;font-weight: bold;">关于</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>

    <header id="gtco-header" class="gtco-cover" role="banner" style="background-image:url(../../images/img_7.jpg);background-position:0px;" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-7 text-left">
                    <div class="display-t">
                        <div class="display-tc animate-box" data-animate-effect="fadeInUp">
                            <span class="date-post">2017-06-06</span>
                            <h1 class="mb30"><a href="#">阿里云ECS服务器Linux环境下配置php运行环境（安装配置篇）</a></h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div id="gtco-maine">
        <div class="container">
            <div class="row row-pb-md">
                <div class="col-md-12">
                    <article class="mt-negative">
                        <div class="text-left content-article">
                            <div class="row">
                                <div class="col-lg-8 cp-r animate-box">
                                    <p>阿里云ECS服务器<a href="http://lib.csdn.net/base/linux" target="_blank">Linux</a>环境安装配置<a href="http://lib.csdn.net/base/php" target="_blank">PHP</a>的运行环境，不同于window<a href="http://lib.csdn.net/base/operatingsystem" target="_blank">操作系统</a>下配置，因为是<a href="http://lib.csdn.net/base/linux" target="_blank">linux</a>操作系统主要是在命令窗体里输入命令来操作，对于初次接触过linux系统的可能会有点怕怕的，下不去手。。。。。。</p>

                                    <p>需要安装的软件有Apache+<a href="http://lib.csdn.net/base/php" target="_blank">php</a>+<a href="http://lib.csdn.net/base/mysql" target="_blank">MySQL</a>。</p>

                                    <p><strong>安装Apache</strong></p>



                                    <pre class="prettyprint"><code class=" hljs cmake">yum <span class="hljs-keyword">install</span> httpd <span class="hljs-comment">#根据提示，输入Y安装即可成功安装</span></code></pre>

                                    <p>安装成功后开启Apache，</p>



                                    <pre class="prettyprint"><code class=" hljs avrasm">/etc/init<span class="hljs-preprocessor">.d</span>/httpd start  <span class="hljs-preprocessor">#启动Apache</span></code></pre>

                                    <p>Apache启动之后可能会提示错误：httpd:httpd: Could not reliably determine the server’s fully qualif domain name, using ::1 for ServerName</p>



                                    <pre class="prettyprint"><code class=" hljs avrasm">解决方法：vi /etc/httpd/conf/httpd<span class="hljs-preprocessor">.conf</span>  <span class="hljs-preprocessor">#编辑http.conf文件</span>
查找到 <span class="hljs-preprocessor">#ServerName www.example.com:80</span>
按“i”键代表修改文档
修改为 ServerName localhost:<span class="hljs-number">80</span> <span class="hljs-preprocessor">#这里设置为你自己的域名，如果没有域名，可以设置为localhost</span></code></pre>

                                    <p><img src="http://upload-images.jianshu.io/upload_images/6673460-43f9e4ab41b8a165.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" title="" class="img-responsive"></p>



                                    <pre class="prettyprint"><code class=" hljs applescript">按“Esc”键退出，然后再按“:wq”<span class="hljs-comment">#保存退出</span>
chkconfig httpd <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> <span class="hljs-comment">#设为开机启动</span>
/etc/init.d/httpd restart <span class="hljs-comment">#重启Apache服务器</span></code></pre>

                                    <p>（如果不是很确定在命令窗体能够修改，可以下载一个WinSCP连接服务器后按 /etc/httpd/conf/httpd.conf这个路径查找修改，代码大概在278行，在修改之前把文件格式先转换为utf-8编码，或者先将httpd.conf 文件备份，防止改错了可以替换回去！！）</p>

                                    <p><img src="http://upload-images.jianshu.io/upload_images/6673460-5c9a87a6c74eb439.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" title="" class="img-responsive"></p>

                                    <p>第一步已经完成了，哈哈哈哈！</p>

                                    <p><strong><strong>安装<a href="http://lib.csdn.net/base/mysql" target="_blank">mysql</a></strong></strong></p>



                                    <pre class="prettyprint"><code class=" hljs avrasm">yum install mysql mysql-server <span class="hljs-preprocessor">#根据提示，输入Y安装即可成功安装</span>
/etc/init<span class="hljs-preprocessor">.d</span>/mysqld start <span class="hljs-preprocessor">#启动MySQL服务</span>
chkconfig mysqld on <span class="hljs-preprocessor">#设置为开机启动</span>
<span class="hljs-keyword">cp</span>  /usr/share/mysql/my-medium<span class="hljs-preprocessor">.cnf</span>  /etc/my<span class="hljs-preprocessor">.cnf</span>  <span class="hljs-preprocessor">#拷贝配置文件</span></code></pre>

                                    <p>接下来就是为mysql的root账号设置密码（默认的密码是空） <br>
                                        mysql_secure_installation 按回车键 <br>
                                        如果你是新安装mysql，会弹出提示：</p>



                                    <pre class="prettyprint"><code class=" hljs applescript">In order <span class="hljs-keyword">to</span> <span class="hljs-command">log</span> <span class="hljs-keyword">into</span> MySQL <span class="hljs-keyword">to</span> secure <span class="hljs-keyword">it</span>, we'll need <span class="hljs-keyword">the</span> current password
 <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> root user. If you've just installed MySQL, <span class="hljs-keyword">and</span> you haven't <span class="hljs-keyword">set</span> <span class="hljs-keyword">the</span> root password yet, <span class="hljs-keyword">the</span> password will be blank, so you should just press enter here.

Enter
 current password <span class="hljs-keyword">for</span> root (enter <span class="hljs-keyword">for</span> none):</code></pre>

                                    <p>因为你是新安装，默认密码为空，直接按enter键就可以。 <br>
                                        然后设置新的密码，输入Y即可 <br>
                                        输入两次密码确认（一定要记住密码哦！后面设置其他用户还需要用的密码进入MySQL，创建用户等操作）</p>

                                    <p>再接着就是会有若干个提示：</p>



                                    <pre class="prettyprint"><code class=" hljs livecodeserver">By default, <span class="hljs-operator">a</span> MySQL installation has <span class="hljs-operator">an</span> anonymous user, allowing anyone <span class="hljs-built_in">to</span> <span class="hljs-built_in">log</span> <span class="hljs-keyword">into</span> MySQL <span class="hljs-keyword">without</span> having <span class="hljs-built_in">to</span> have <span class="hljs-operator">a</span> user account created <span class="hljs-keyword">for</span> them. This is intended only <span class="hljs-keyword">for</span> testing, <span class="hljs-operator">and</span> <span class="hljs-built_in">to</span> make <span class="hljs-operator">the</span> installation [Go](<span class="hljs-keyword">http</span>://lib.csdn.net/base/go) <span class="hljs-operator">a</span> bit smoother. You should remove them <span class="hljs-keyword">before</span> moving <span class="hljs-keyword">into</span> aproduction environment.
Remove anonymous users? [Y/n] y
MySQL会默认创建一个匿名用户，问你是否删除，一般输入Y删除掉。</code></pre>



                                    <pre class="prettyprint"><code class=" hljs livecodeserver">Normally, root should only be allowed <span class="hljs-built_in">to</span> connect <span class="hljs-built_in">from</span> <span class="hljs-string">'localhost'</span>. This ensures that someone cannot guess <span class="hljs-keyword">at</span> <span class="hljs-operator">the</span> root password <span class="hljs-built_in">from</span> <span class="hljs-operator">the</span> network.
Disallow root login remotely? [Y/n] y
root用户默认只能访问localhost，以防有人猜密码，是否禁止root登陆，一般选择yes。</code></pre>



                                    <pre class="prettyprint"><code class=" hljs livecodeserver">By default, MySQL comes <span class="hljs-operator">with</span> <span class="hljs-operator">a</span> database named <span class="hljs-string">'test'</span> that anyone can access. This is also intended only <span class="hljs-keyword">for</span> testing, <span class="hljs-operator">and</span> should be removed <span class="hljs-keyword">before</span> moving <span class="hljs-keyword">into</span> <span class="hljs-operator">a</span> production environment.
Remove test database <span class="hljs-operator">and</span> access <span class="hljs-built_in">to</span> <span class="hljs-keyword">it</span>? [Y/n]
mysql默认创建一个名为test的[数据库](<span class="hljs-keyword">http</span>://lib.csdn.net/base/mysql)，这个库任何人都可以访问，是否删除掉，一般不删除。</code></pre>



                                    <pre class="prettyprint"><code class=" hljs mizar">Reloading
 the privilege tables will ensure <span class="hljs-keyword">that</span> all changes made so far
will <span class="hljs-keyword">take</span> effect immediately.

Reload
 privilege tables <span class="hljs-keyword">now</span>? [Y/n]

意思是上面的修改是否马上生效：输入Y</code></pre>



                                    <pre class="prettyprint"><code class=" hljs cs">最后会出现：Thanks
 <span class="hljs-keyword">for</span> <span class="hljs-keyword">using</span> MySQL!
MySQL密码设置完成，重新启动MySQL：
/etc/init.d/mysqld restart <span class="hljs-preprocessor">#重启MySQL服务</span></code></pre>

                                    <p><br>
                                        <strong>安装php</strong></p>



                                    <pre class="prettyprint"><code class=" hljs cmake">yum <span class="hljs-keyword">install</span> php <span class="hljs-comment">#根据提示，输入Y安装即可成功安装</span>
安装php组件，让php5 支持 mysql
yum <span class="hljs-keyword">install</span> php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt  <span class="hljs-comment">#根据提示，输入Y安装即可成功安装</span>
/etc/init.d/mysqld restart <span class="hljs-comment">#重启mysql</span>
/etc/init.d/httpd restart <span class="hljs-comment">#重启Apache</span></code></pre>

                                    <p>终于完成了所有软件的安装，现在进行<a href="http://lib.csdn.net/base/softwaretest" target="_blank">测试</a>一下 <br>
                                        安装完成之后在/var/www/ 会有一个html文件夹，这个就是默认的访问路径。 <br>
                                        编写一个index.php 文件进行测试</p>



                                    <pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">"hello world"</span>;
<span class="hljs-preprocessor">?&gt;</span></span></code></pre>

                                    <p>！！！！！！！！！！！！！！！ <br>
                                        如果前面的三个安装步骤都成功，而在测试的时候出现访问不了的问题，有可能是因为阿里云ECS服务器里面的安全组设置问题； <br>
                                        解决方法，在云ECS服务器里添加安全组规则； <br>
                                        这里要登录阿里云的控制台–<a href="https://www.aliyun.com/" target="_blank">登录</a> <br>
                                        选择云服务器ECS-&gt;安全组，找到你的服务器在哪个区，选择配置规则-&gt;添加安全组规则</p>

                                    <p><img src="http://upload-images.jianshu.io/upload_images/6673460-82b179388d32b9cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" title="" class="img-responsive"></p>

                                    <p><img src="http://upload-images.jianshu.io/upload_images/6673460-cc356ef0b1111470.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png" title="" class="img-responsive"></p>
                                </div>
                                <div class="col-lg-4 animate-box">
                                    <div class="gtco-highlight right">
                                        <h4>点点滴滴</h4>
                                        <p style="font-size:15px;">最初90%的代碼用去了最初90%的開發時間…余下10%的代碼用去了另外90%的開發時間。(Tom Cargill)</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </article>
                </div>
            </div>
        </div>
    </div>



    <footer id="gtco-footer" role="contentinfo" style="padding:0;">
        <div class="container">
            <div class="row copyright">
                <div class="col-md-12 text-center">
                    <p>
                        <span style="font-size:16px;">©</span>2017 版权所有 ICP证：<a href="http://www.miitbeian.gov.cn/" target="_block" style="color:#666666">粤ICP备17112246号</a>
                        <script type="text/javascript">
                            var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
                            document.write(unescape("%3Cspan id='cnzz_stat_icon_1264398044'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1264398044%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
                        </script>
                    </p>
                </div>
            </div>

        </div>
    </footer>
</div>

<div class="gototop js-top">
    <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<!-- jQuery -->
<script src="../../js/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="../../js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="../../js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="../../js/jquery.waypoints.min.js"></script>
<!-- Stellar -->
<script src="../../js/jquery.stellar.min.js"></script>
<!-- Main -->
<script src="../../js/main.js"></script>

</body>
</html>

