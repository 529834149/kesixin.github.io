<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>KSX - 个人博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Free HTML5 Website Template by GetTemplates.co" />
    <meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />

    <link href="../../favicon.ico" rel="icon" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i|Roboto+Mono" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="../../css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="../../css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="../../css/bootstrap.css">

    <!-- Magnific Popup -->
    <link rel="stylesheet" href="../../css/magnific-popup.css">

    <!-- Theme style  -->
    <link rel="stylesheet" href="../../css/style.css">

    <!-- Modernizr JS -->
    <script src="../../js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->

</head>
<body>

<div class="gtco-loader"></div>

<div id="page">
    <nav class="gtco-nav" role="navigation">
        <div class="container">
            <div class="row">
                <div class="col-xs-2 text-left">
                    <div id="gtco-logo"><a href="index.html">KSX<span>.</span></a></div>
                </div>
                <div class="col-xs-10 text-right menu-1">
                    <ul>
                        <li><a href="../../index.html" style="font-size:14px;">首页</a></li>
                        <li><a href="../../category.html" style="font-size:14px;">分类</a></li>
                        <li class="has-dropdown">
                            <a style="font-size:14px;">API</a>
                            <ul class="dropdown">
                                <li><a href="http://itmyhome.com/git/" target="_blank">Git</a></li>
                                <li><a href="http://itmyhome.com/progit/" target="_blank">Pro Git</a></li>
                                <li><a href="http://itmyhome.com/jq/" target="_blank">JQuery</a></li>
                                <li><a href="http://itmyhome.com/easyui/" target="_blank">EasyUI</a></li>
                                <li><a href="http://itmyhome.com/bootstrap/" target="_blank">Bootstrap</a></li>
                                <li><a href="http://itmyhome.com/markdown/" target="_blank">Markdown</a></li>
                                <li><a href="http://itmyhome.com/front/" target="_blank">前端开发规范手册</a></li>
                                <li><a href="http://itmyhome.com/js/" target="_blank">JavaScript</a></li>
                                <li><a href="http://itmyhome.com/html/" target="_blank">HTML</a></li>
                                <li><a href="http://itmyhome.com/css/" target="_blank">CSS</a></li>
                                <li><a href="http://itmyhome.com/rgb/" target="_blank">RGB</a></li>
                            </ul>
                        </li>
                        <li class="has-dropdown">
                            <a style="font-size:14px;">PDF</a>
                            <ul class="dropdown">
                                <li><a href="http://itmyhome.com/progit-pdf/" target="_blank">Pro Git </a></li>
                                <li><a href="http://itmyhome.com/the-definitive-guide-of-git-pdf/" target="_blank">Git权威指南</a></li>
                                <li><a href="http://itmyhome.com/javascript-pdf/" target="_blank">JavaScript权威指南</a></li>
                                <li><a href="http://itmyhome.com/jquery-in-action-pdf/" target="_blank">jQuery实战</a></li>
                                <li><a href="http://itmyhome.com/mybatis-pdf/" target="_blank">MyBatis3用户指南</a></li>
                                <li><a href="http://itmyhome.com/ibatis-pdf/" target="_blank">IBATIS2.0开发指南</a></li>
                                <li><a href="http://itmyhome.com/html-pdf/" target="_blank">HTML精选属性</a></li>
                                <li><a href="http://itmyhome.com/jdbc-pdf/" target="_blank">JDBC学习手册</a></li>
                                <li><a href="http://itmyhome.com/programmer-job-hopping-pdf/" target="_blank">程序员跳槽全攻略</a></li>
                                <li><a href="http://itmyhome.com/software-random-thoughts-pdf/" target="_blank">软件随想录</a></li>
                            </ul>
                        </li>
                        <li><a href="http://blog.csdn.net/kesixin" target="_blank" style="font-size:14px;">CSDN</a></li>
                        <li><a href="http://www.jianshu.com/u/ed95b64d8305" target="_blank" style="font-size:14px;">简书</a></li>
                        <li><a style="font-size:14px;">历程</a></li>
                        <li><a style="font-size:14px;">关于</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>

    <header id="gtco-header" class="gtco-cover" role="banner" style="background-image:url(../../images/img_7.jpg);background-position:0px;" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-7 text-left">
                    <div class="display-t">
                        <div class="display-tc animate-box" data-animate-effect="fadeInUp">
                            <span class="date-post">2017-07-08</span>
                            <h1 class="mb30"><a href="#">PHP中利用PHPMailer实现发邮件</a></h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div id="gtco-maine">
        <div class="container">
            <div class="row row-pb-md">
                <div class="col-md-12">
                    <article class="mt-negative">
                        <div class="text-left content-article">
                            <div class="row">
                                <div class="col-lg-8 cp-r animate-box">
                                    <p><a href="http://download.csdn.net/detail/kesixin/9892738" target="_blank">PHPMailer的下载地址</a></p>

                                    <p><strong>下面以QQ邮箱为例，按照这四个方面来介绍PHPMaIiler的使用：</strong></p>

                                    <ul>
                                        <li>PHPMailer的介绍</li>
                                        <li>步骤一：使QQ邮箱能够发送邮件</li>
                                        <li>步骤二：使PHP能够使用QQ邮箱发送邮件</li>
                                        <li>步骤三：编写发送邮件代码</li>
                                        <li>ThinkPHP使用PHPMailer 发送邮件</li>
                                    </ul>

                                    <p><strong>PHPMailer的介绍</strong></p>

                                        <p>可运行在任何平台之上；</p>
                                        <p>支持SMTP验证；</p>
                                        <p>发送邮时指定多个收件人，抄送地址，暗送地址和回复地址；注：添加抄送、暗送仅win平台下smtp方式支持；</p>
                                        <p>支持多种邮件编码包括：8bit，base64，binary和quoted-printable；</p>
                                        <p>自定义邮件头信息，这跟php中通过header函数发送头信息类似支持将邮件正文制作成HTMl内容，那么就可以在邮件正文中插入图片；</p>
                                        <p>经测试兼容的SMTP服务器包括Sendmail,qmail,Postfix,Imail,Exchange等。</p>

                                    <p><strong>步骤一：使QQ邮箱能够发送邮件</strong></p>

                                    <p>我们的邮箱本来可以发送邮件，但是要实现在我们的网站中发送邮件，那就要设置一下我们的QQ邮箱了，因为此时我们的网站现在是作为一个第三方客户端存在的，所以需要用到的是SMTP服务器来发送，在这里建议把前面的两项开启了！</p>

                                    <p>进入QQ邮箱-&gt;点击设置-&gt;点击账户</p>

                                    <p><img src="http://img.blog.csdn.net/20170709091052659?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2VzaXhpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" title="" class="img-responsive"></p>

                                    <p>当你点击开启的时候，它会提示：</p>

                                    <p><img src="http://img.blog.csdn.net/20170709091113539?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2VzaXhpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" title="" class="img-responsive"></p>

                                    <p>当你完成以上步骤之后，就会得到一个授权码，你可以先复制出来，待会我们会用到（开启两项的话会得到两个授权码，一定要最新的！）。</p>

                                    <p><strong>步骤二：使PHP能够使用QQ邮箱发送邮件</strong></p>

                                    <p>PHPMailer需要PHP的socket扩展支持，而PHPMailer链接qq域名邮箱时需要ssl加密方式，还得PHP的openssl扩展支持，可以使用phpinfo查看是否开启扩展。</p>

                                    <p><img src="http://img.blog.csdn.net/20170709091147941?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2VzaXhpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" title="" class="img-responsive"></p>

                                    <p>如未开启，到PHP安装目录找到php.ini中开启两个扩展支持。</p>

                                    <p><img src="http://img.blog.csdn.net/20170709091204732?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2VzaXhpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" title="" class="img-responsive"></p>

                                    <p><strong>步骤三：编写发送邮件代码</strong></p>

                                    <p>index.html代码如下：</p>



                                    <pre class="prettyprint"><code class=" hljs xml"><span class="hljs-doctype">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">lang</span>=<span class="hljs-value">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"./index.php"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> &gt;</span>
    邮箱：<span class="hljs-tag">&lt;<span class="hljs-title">input</span>  <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mail"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"mail"</span>/&gt;</span>
    标题：<span class="hljs-tag">&lt;<span class="hljs-title">input</span>  <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span>/&gt;</span>
    内容<span class="hljs-tag">&lt;<span class="hljs-title">input</span>  <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"content"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"content"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"button"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"发送"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"margin: 0 auto;display: block;"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>

                                    <p>封装一个公共的方法（写在 functions.php 文件中）：</p>



                                    <pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-comment">/**
 *发送邮件方法
 *@param $to：接收者 $title：标题 $content：邮件内容
 *@return bool true:发送成功 false:发送失败
 */</span>

function sendMail(<span class="hljs-variable">$to</span>,<span class="hljs-variable">$title</span>,<span class="hljs-variable">$content</span>){

    require_once(<span class="hljs-string">"phpmailer/class.phpmailer.php"</span>);
    require_once(<span class="hljs-string">"phpmailer/class.smtp.php"</span>);
    <span class="hljs-comment">//实例化PHPMailer核心类</span>
    <span class="hljs-variable">$mail</span> <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> PHPMailer();

    <span class="hljs-comment">//使用smtp鉴权方式发送邮件</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>isSMTP();

    <span class="hljs-comment">//smtp需要鉴权 这个必须是true</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>SMTPAuth<span class="hljs-subst">=</span><span class="hljs-literal">true</span>;

    <span class="hljs-comment">//链接qq域名邮箱的服务器地址</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Host <span class="hljs-subst">=</span> <span class="hljs-string">'smtp.qq.com'</span>;

    <span class="hljs-comment">//设置使用ssl加密方式登录鉴权</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>SMTPSecure <span class="hljs-subst">=</span> <span class="hljs-string">'ssl'</span>;

    <span class="hljs-comment">//设置ssl连接smtp服务器的远程服务器端口号，以前的默认是25，但是现在新的好像已经不可用了 可选465或587</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Port <span class="hljs-subst">=</span> <span class="hljs-number">465</span>;

    <span class="hljs-comment">//设置发送的邮件的编码 可选GB2312，utf-8</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>CharSet <span class="hljs-subst">=</span> <span class="hljs-string">'UTF-8'</span>;

    <span class="hljs-comment">//设置发件人姓名（昵称</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>FromName <span class="hljs-subst">=</span> <span class="hljs-string">'发件人姓名（昵称）'</span>;

    <span class="hljs-comment">//smtp登录的账号 这里填入字符串格式的qq号即可</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Username <span class="hljs-subst">=</span><span class="hljs-string">'12345678@qq.com'</span>;

    <span class="hljs-comment">//smtp登录的密码 使用生成的授权码（就刚才保存的最新的授权码）</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Password <span class="hljs-subst">=</span> <span class="hljs-string">'最新的授权码'</span>;

    <span class="hljs-comment">//设置发件人邮箱地址</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>From <span class="hljs-subst">=</span> <span class="hljs-string">'12345678@qq.com'</span>;

    <span class="hljs-comment">//邮件正文是否为html编码</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>isHTML(<span class="hljs-literal">true</span>);

    <span class="hljs-comment">//设置收件人邮箱地址</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>addAddress(<span class="hljs-variable">$to</span>,<span class="hljs-string">'尊敬的客户'</span>);

    <span class="hljs-comment">//添加多个收件人 则多次调用方法即可</span>
    <span class="hljs-comment">// $mail-&gt;addAddress('xxx@163.com','尊敬的客户');</span>

    <span class="hljs-comment">//添加该邮件的主题</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Subject <span class="hljs-subst">=</span> <span class="hljs-variable">$title</span>;

    <span class="hljs-comment">//添加邮件正文 上方将isHTML设置成了true</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Body <span class="hljs-subst">=</span> <span class="hljs-variable">$content</span>;

    <span class="hljs-variable">$status</span> <span class="hljs-subst">=</span> <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>send();

    <span class="hljs-comment">//判断与提示信息</span>
    <span class="hljs-keyword">if</span>(<span class="hljs-variable">$status</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }<span class="hljs-keyword">else</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}</code></pre>

                                    <p>index.php代码如下：</p>



                                    <pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">require_once</span>(<span class="hljs-string">"./functions.php"</span>);
<span class="hljs-variable">$to</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'mail'</span>];
<span class="hljs-variable">$title</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'title'</span>];
<span class="hljs-variable">$content</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'content'</span>];
<span class="hljs-variable">$flag</span> = sendMail(<span class="hljs-variable">$to</span>,<span class="hljs-variable">$title</span>,<span class="hljs-variable">$content</span>);
<span class="hljs-keyword">if</span>(<span class="hljs-variable">$flag</span>){
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"发送邮件成功！"</span>;
}<span class="hljs-keyword">else</span>{
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"发送邮件失败！"</span>;
}
<span class="hljs-preprocessor">?&gt;</span></span></code></pre>

                                    <p>如果你使用的是QQ企业邮箱，那么链接qq域名邮箱的服务器地址和smtp登录的密码就不同了:</p>



                                    <pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-comment">//链接qq域名邮箱的服务器地址</span>
<span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Host <span class="hljs-subst">=</span> <span class="hljs-string">'smtp.exmail.qq.com'</span>;
<span class="hljs-comment">//smtp登录的密码 （QQ企业邮箱的登录密码）</span>
<span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Password <span class="hljs-subst">=</span> <span class="hljs-string">'登录密码'</span>;</code></pre>

                                    <p><strong>ThinkPHP使用PHPMailer 发送邮件</strong></p>

                                    <p>PHPMailer解压到ThinkPHP\Library\Vendor</p>

                                    <p>在Common文件夹新建function.php</p>



                                    <pre class="prettyprint"><code class=" hljs lasso"><span class="hljs-comment">/**
 * 邮件发送函数
 * @param $to：接收者 $title：标题 $content：邮件内容
 * @return bool true:发送成功 false:发送失败
 */</span>
function sendMail(<span class="hljs-variable">$to</span>, <span class="hljs-variable">$title</span>, <span class="hljs-variable">$content</span>) {

    Vendor(<span class="hljs-string">'PHPMailer.PHPMailerAutoload'</span>);
    Vendor(<span class="hljs-string">'PHPMailer.class.smtp'</span>);
    <span class="hljs-variable">$mail</span> <span class="hljs-subst">=</span> <span class="hljs-literal">new</span> PHPMailer(); <span class="hljs-comment">//实例化</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>IsSMTP(); <span class="hljs-comment">// 启用SMTP</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Host<span class="hljs-subst">=</span>C(<span class="hljs-string">'MAIL_HOST'</span>); <span class="hljs-comment">//smtp服务器的名称</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>SMTPSecure <span class="hljs-subst">=</span> C(<span class="hljs-string">'MAIL_SECURE'</span>);
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Port <span class="hljs-subst">=</span> C(<span class="hljs-string">'MAIL_PORT'</span>);
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>SMTPAuth <span class="hljs-subst">=</span> C(<span class="hljs-string">'MAIL_SMTPAUTH'</span>); <span class="hljs-comment">//启用smtp认证</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Username <span class="hljs-subst">=</span> C(<span class="hljs-string">'MAIL_USERNAME'</span>); <span class="hljs-comment">//你的邮箱名</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Password <span class="hljs-subst">=</span> C(<span class="hljs-string">'MAIL_PASSWORD'</span>) ; <span class="hljs-comment">//邮箱密码</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>From <span class="hljs-subst">=</span> C(<span class="hljs-string">'MAIL_FROM'</span>); <span class="hljs-comment">//发件人地址（也就是你的邮箱地址）</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>FromName <span class="hljs-subst">=</span> C(<span class="hljs-string">'MAIL_FROMNAME'</span>); <span class="hljs-comment">//发件人姓名</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>AddAddress(<span class="hljs-variable">$to</span>,<span class="hljs-string">"尊敬的客户"</span>);
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>WordWrap <span class="hljs-subst">=</span> <span class="hljs-number">50</span>; <span class="hljs-comment">//设置每行字符长度</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>IsHTML(C(<span class="hljs-string">'MAIL_ISHTML'</span>)); <span class="hljs-comment">// 是否HTML格式邮件</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>CharSet<span class="hljs-subst">=</span>C(<span class="hljs-string">'MAIL_CHARSET'</span>); <span class="hljs-comment">//设置邮件编码</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Subject <span class="hljs-subst">=</span><span class="hljs-variable">$title</span>; <span class="hljs-comment">//邮件主题</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Body <span class="hljs-subst">=</span> <span class="hljs-variable">$content</span>; <span class="hljs-comment">//邮件内容</span>
    <span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>AltBody <span class="hljs-subst">=</span> <span class="hljs-string">"您好"</span>; <span class="hljs-comment">//邮件正文不支持HTML的备用显示</span>
    <span class="hljs-keyword">return</span>(<span class="hljs-variable">$mail</span><span class="hljs-subst">-&gt;</span>Send());
}</code></pre>

                                    <p>添加配置文件config.php</p>



                                    <pre class="prettyprint"><code class=" hljs php"><span class="hljs-comment">// 配置邮件发送服务器</span>
    <span class="hljs-string">'MAIL_HOST'</span> =&gt;<span class="hljs-string">'smtp.qq.com'</span>,<span class="hljs-comment">//smtp服务器的名称</span>
    <span class="hljs-string">'MAIL_SMTPAUTH'</span> =&gt;<span class="hljs-keyword">true</span>, <span class="hljs-comment">//启用smtp认证</span>
    <span class="hljs-string">'MAIL_USERNAME'</span> =&gt;<span class="hljs-string">'12345678@qq.com'</span>,<span class="hljs-comment">//你的邮箱名</span>
    <span class="hljs-string">'MAIL_FROM'</span> =&gt;<span class="hljs-string">'12345678@qq.com'</span>,<span class="hljs-comment">//发件人地址</span>
    <span class="hljs-string">'MAIL_FROMNAME'</span>=&gt;<span class="hljs-string">'12345678@qq.com'</span>,<span class="hljs-comment">//发件人姓名</span>
    <span class="hljs-string">'MAIL_PASSWORD'</span> =&gt;<span class="hljs-string">'xxxxxx,//邮箱密码
    '</span>MAIL_CHARSET<span class="hljs-string">' =&gt;'</span>utf-<span class="hljs-number">8</span><span class="hljs-string">',//设置邮件编码
    '</span>MAIL_ISHTML<span class="hljs-string">' =&gt;TRUE, // 是否HTML格式邮件
    '</span>MAIL_PORT<span class="hljs-string">' =&gt;'</span><span class="hljs-number">465</span><span class="hljs-string">',//设置ssl连接smtp服务器的远程服务器端口号
    '</span>MAIL_SECURE<span class="hljs-string">' =&gt;'</span>ssl<span class="hljs-string">',//设置使用ssl加密方式登录鉴权</span></code></pre>

                                    <p>最后就是使用PHPMailer发送邮件</p>



                                    <pre class="prettyprint"><code class=" hljs xml"><span class="hljs-doctype">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">lang</span>=<span class="hljs-value">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"/index.php/Admin/test/add"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"post"</span> <span class="hljs-attribute">enctype</span>=<span class="hljs-value">"multipart/form-data"</span>&gt;</span>
    邮箱：<span class="hljs-tag">&lt;<span class="hljs-title">input</span>  <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mail"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"mail"</span>/&gt;</span>
    标题：<span class="hljs-tag">&lt;<span class="hljs-title">input</span>  <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span>/&gt;</span>
    内容<span class="hljs-tag">&lt;<span class="hljs-title">input</span>  <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"content"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"content"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"button"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"发送"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"margin: 0 auto;display: block;"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>



                                    <pre class="prettyprint"><code class=" hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span><span class="hljs-params">()</span>{</span>
        <span class="hljs-keyword">if</span>(sendMail(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'mail'</span>],<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'title'</span>],<span class="hljs-variable">$_POST</span>[<span class="hljs-string">'content'</span>]))
            <span class="hljs-keyword">echo</span> <span class="hljs-string">"发送成功"</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">echo</span> <span class="hljs-string">"发送失败"</span>;
    }</code></pre>
                                </div>
                                <div class="col-lg-4 animate-box">
                                    <div class="gtco-highlight right">
                                        <h4>点点滴滴</h4>
                                        <p style="font-size:15px;">在水裏行走和以壹個需求規格進行軟件開發類似，即如果水或需求都被凍結住，那麽行走和軟件開發都會變得很容易。</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </article>
                </div>
            </div>
        </div>
    </div>



    <footer id="gtco-footer" role="contentinfo" style="padding:0;">
        <div class="container">
            <div class="row copyright">
                <div class="col-md-12 text-center">
                    <p>
                        <span style="font-size:16px;">©</span>2017 版权所有 ICP证：<a href="http://www.miitbeian.gov.cn/" target="_block" style="color:#666666">粤ICP备17112246号</a>
                    </p>
                </div>
            </div>

        </div>
    </footer>
</div>

<div class="gototop js-top">
    <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<!-- jQuery -->
<script src="../../js/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="../../js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="../../js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="../../js/jquery.waypoints.min.js"></script>
<!-- Stellar -->
<script src="../../js/jquery.stellar.min.js"></script>
<!-- Main -->
<script src="../../js/main.js"></script>

</body>
</html>

